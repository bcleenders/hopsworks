<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      >

    <ui:composition template="layout.xhtml">

        <ui:define name="title">
            BiobankCloud Lims
        </ui:define>
        <ui:define name="css">
            <link rel="stylesheet" type="text/css" href="#{resource['/css/bbc.css']}" />
        </ui:define>
        <ui:define name="scripts"/>

        <ui:define name="leftmenu">
            <p:commandLink styleClass="sideMenuItem Home" action="bbchome"/>
<!--            <p:commandLink styleClass="sideMenuItem New" action="#{bbcController.showNewSampleCollectionDialog()}">
                <f:setPropertyActionListener value="true" target="#{sampleController.create}" />
            </p:commandLink>
            <p:commandLink styleClass="sideMenuItem Find" action="#{bbcController.showFindSampleCollectionDialog()}"/>-->
            <p:commandLink styleClass="sideMenuItem New" action="#{bbcController.showNewUserManagementDialog()}"/>
        </ui:define>


        


        <ui:define name="dialogs">

           <!--New User Management Dialog-->
            <p:dialog modal="true" id="newUserManagement" widgetVar="dlgNewUserManagement" header="User Management Service" 
                      draggable="true" closable="true" resizable="true" width="825"  height="620">  

                <h:form id="formNewUserManagement" prependId="false">   
                    <p:tabView id="tabViewNew">
                        <p:tab title="Registered Users">
                            <p:panel styleClass="BbcNewSamplePanel" style="">
                                <h:panelGrid columns="3">                                 
                                    <p:dataTable id="userdataTable" var="user" value="#{userController.allUsers}" widgetVar="usersTable" >
                                                   <f:facet name="header">
                                                       <p:outputPanel>
                                                       <h:outputText value="Search users: " />
                                                       <p:inputText id="globalFilter" onkeyup="" style="width:150px" />
                                                       </p:outputPanel>
                                                   </f:facet>

                                        
                                                   <p:column id="nameColumn" filterBy="name" headerText="Name">
                                                        <h:outputText value="#{user.name}" />
                                                    </p:column>
                                        
                                                    <p:column id="emailColumn" filterBy="email" headerText="Email">
                                                        <h:outputText value="#{user.email}" />
                                                    </p:column>
                                        
                                                    <p:column id="usernameColumn" filterBy="username" headerText="Username">
                                                        <h:outputText value="#{user.username}" />
                                                    </p:column>
                                        
                                                    <p:column id="mobileNumColumn" filterBy="mobileNum" headerText="Mobile Number">
                                                        <h:outputText value="#{user.mobileNum}" />
                                                    </p:column>
                                     </p:dataTable>
                               </h:panelGrid>
            
                            </p:panel>
                        </p:tab>
                        
                        <!-- user view end -->
                        
       <p:tab title="Add New Users">
           <h:form id="userReg">
               <p:panel styleClass="BbcNewSamplePanel" header="User Data"> 
                   <p:messages autoUpdate="true"/>
                   <h:panelGrid id="grid" columns="4" cellpadding="5">                                 
                  
                            <h:outputLabel for="name" value="Name:" style="font-weight:bold"/>					
                            <p:inputText id="name" required="true" label="Name" value="#{userController.user.name}"/>
                            <p:message for="name" />
                            <h:outputText value=""/>

                            <h:outputLabel for="email" value="Email:" style="font-weight:bold"/>					
                            <p:inputText id="email"  required="true" label="Email" value="#{userController.user.email}">
                            </p:inputText>
                            <p:message for="email" />
                            <h:outputText value="" />

                            <h:outputLabel for="uname" value="Username:" style="font-weight:bold"/>					
                            <p:inputText id="uname" required="true" label="Username" value="#{userController.user.username}">
                            </p:inputText>
                            <p:message for="uname" />
                            <h:outputText value="" />

                            <h:outputLabel for="password" value="Password:" style="font-weight:bold"/>					
                            <p:password id="password" label="password" required="true" value="#{userController.user.password}">
                            </p:password>
                            <p:message for="password" />
                            <h:outputText value=""/>
                                
                            <h:outputLabel for="mobile" value="Mobile Number:" style="font-weight:bold"/>					
                            <p:inputText id="mobile" label="Mobile Number" value="#{userController.user.mobileNum}" validatorMessage="Only contain numbers">
                            </p:inputText>
                            <p:message for="mobile"/>
                            <h:outputText value=""/>

                           <!--<h:outputLabel for="popupCal" value="Registered Date:" style="font-weight:bold"/>
                            <p:calendar id="popupCal" value="#{userController.user.registeredOn}" pattern="yyyy-MM-dd HH:mm:ss"/>-->
                           
                     </h:panelGrid>
                   <p:commandButton update="grid" value="Add" icon="ui-icon-person" style="margin-right:10px" action="#{userController.addUser()}"/>
             </p:panel>
           </h:form>
                        
       
       </p:tab>
                     </p:tabView>
                </h:form>
            </p:dialog>

                    
                                        
                                    
                                
                                
                               
            
                            

            
            
            
        

        </ui:define>

    </ui:composition>
</html>
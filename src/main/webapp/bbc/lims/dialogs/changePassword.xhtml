<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      >
    <h:head>
        <title>Change password</title>
        <link rel="stylesheet" type="text/css" href="#{resource['/css/layout.css']}" />
        <link rel="stylesheet" type="text/css" href="#{resource['/css/lims.css']}" />
        <link rel="stylesheet" type="text/css" href="#{resource['/css/profile.css']}" />    
    </h:head>
    <h:body>
        <h:form id="changePwdDlg">
            <p:growl id="growl" autoUpdate="true" showDetail="true" for="wrongPassword"/>
            <h:panelGrid id="display" columns="3" cellpadding="4">

                <h:outputLabel for="oldPwd" value="Current password"/>
                <p:password id="oldPwd" label="Current Password" required="true" value="#{profileController.currentPwd}" validatorMessage="Enter current password" autocomplete="off"/>
                <p:message for="oldPwd"/>

                <h:outputLabel for="newPwd1" value="New password"/>					
                <p:password id="newPwd1" label="New password" required="true" match="newPwd2"  value="#{profileController.newPwd}" validatorMessage="Passwords must match">
                </p:password>
                <p:message for="newPwd1" />

                <h:outputLabel for="newPwd2" value="Repeat new password"/>
                <p:password id="newPwd2" label="Repeat password" required="true" value="#{profileController.newPwd}" validatorMessage="Value should match new password">
                </p:password>
                <p:message for="newPwd2"/>

                <p:commandButton value="Change" actionListener="#{profileController.changePassword()}" process="@all" update="@form" ajax="true"/>

                <p:commandButton value="Cancel" actionListener="#{profileController.cancelPwdChange()}" process= "@this" ajax="true"/>

            </h:panelGrid>
        </h:form>                 
    </h:body>
</html>

<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      >

    <ui:composition template="layout.xhtml">

        <ui:define name="title">
            BiobankCloud Lims
        </ui:define>
        <ui:define name="css">
            <link rel="stylesheet" type="text/css" href="#{resource['/css/bbc.css']}" />
        </ui:define>
        <ui:define name="scripts"/>

        
           
        
<!--        <ui:define name="leftmenu">
            <p:commandLink styleClass="sideMenuItem New" action="#{bbcController.showNewUserManagementDialog()}"/>
        </ui:define>-->

<ui:define name="content">

         
<!--             <p:panel>-->
<h:form id="frmUpload" enctype="multipart/form-data">   
                 <div align="left">
                       <h2 class="title">Dataset</h2>
                       <hr/>
                       
                           <p:growl id="messages" showDetail="true" />
                           <p:messages autoUpdate="true"/>
                            <div class="dataset_name_holder">
                                <h:messages errorClass="error"/>
                                <p:outputLabel style="font-size:16px">Upload Dataset</p:outputLabel>
                                <p:spacer width="1" height="30" />
                                <p:separator id="sprt"/>
                                <h3>Owner: </h3> #{datasetMB.username}
                                <br/>
                                <h3>Dataset: </h3> #{datasetMB.dataset.name}
                                <br/>
<!--                                <h3>Path: </h3> ...............-->
                            </div>
                            <hr/>
                        </div>
                     
                
    <p:treeTable value="#{hdfsClientView.root}" var="file" selectionMode="single" selection="#{hdfsClientView.selectedNode}">
                                 <p:column headerText="Name">
                                     <h:outputText value="#{file.name}"/>
                                </p:column>
                                <p:column headerText="Size (bytes)">
                                     <h:outputText value="#{file.size}" />
                                </p:column>
                                <p:column headerText="Type">
                                    <h:outputText value="#{file.type}" />
                                </p:column>
    </p:treeTable>
    
    <p:fileUpload mode="advanced" label="Browse" fileUploadListener="#{datasetMB.fileUploadEvent}" multiple="true"/>
<!--    <p:growl id="uploadmsgs" showDetail="true" />-->
        
    
<p:commandButton value="Download" ajax="false" onclick="PrimeFaces.monitorDownload(start, stop);" icon="ui-icon-arrowthick-1-s" actionListener="#{datasetMB.fileDownloadEvent}">
        <p:fileDownload value="#{datasetMB.file}"/>
    </p:commandButton>
    
    
</h:form>
                   
 <script type="text/javascript">
function start() {
    PF('statusDialog').show();
}
 
function stop() {
    PF('statusDialog').hide();
}
</script>                  
<!--               </p:panel>-->

    
                             
                  

        
   
    
    
    
    
    
</ui:define>
  
</ui:composition>
</html>
                    
         
        
                               
                                    
                                
                                
                               
            
                            

            
            
     
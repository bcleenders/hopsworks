<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <f:view contentType="text/html">

        <h:head>
            <title><ui:insert name="title">BioBankCloud Registration</ui:insert></title>
            <link rel="stylesheet" type="text/css" href="#{resource['/css/layout.css']}" />
            <link rel="stylesheet" type="text/css" href="#{resource['/css/userMgmt.css']}" />
            <link rel="stylesheet" type="text/css" href="#{resource['/css/security.css']}" />

        </h:head>

        <h:body>
            <ui:insert name="titleBar" >
                <ui:include src="/bbc/lims/titleBar.xhtml" />       
            </ui:insert>
            <p:layout id="bbcMainLayoutYubikey" styleClass="BbcMainLayoutUser">
                <p:tooltip/>
                <p:layoutUnit position="center">
                    <div class="container">
       
                        <div class="content" align="center">
                         
                            <h:form id="yubikey_registration" class="new_user"> 
                                <h3 class="register_banner" align="left">Activate Yubikey Account</h3>
                                
                                <h:panelGrid columns="3" >			
                           
                                    <p:outputLabel for="fname" value="First Name"/>
                                    <p:inputText id="fname" 
                                                 value="#{peopleAministration.selectedYubikyUser.fname}" 
                                                   size="40"
                                                 readonly="true"
                                                   />
                                       <p:spacer></p:spacer>
                                       
                                    <p:outputLabel for="lname" 
                                                   value="Last Name" />
                                    <p:inputText id="lname" value="#{peopleAministration.selectedYubikyUser.lname}" 
                                                 size="40"
                                                 readonly="true"
                                                 />
                                    <p:spacer></p:spacer>

                                    <p:outputLabel for="email" 
                                                   value="Email" />
                                    <p:inputText id="email" value="#{peopleAministration.selectedYubikyUser.email}"
                                                 size="40"
                                                 readonly="true"
                                                 >
                                    </p:inputText>    
                                    <p:spacer></p:spacer>
                                    
                                    <p:outputLabel for="tel" value="Mobile:" />
                                    <p:inputText id="tel" 
                                                 value="#{peopleAministration.selectedYubikyUser.mobile}" 
                                                 size="40"
                                                readonly="true">
                                    </p:inputText>
                                    <p:spacer></p:spacer>
                                    
                                    <p:outputLabel for="address1" value="C/O" />
                                    <p:inputText id="address1"
                                                 value="#{peopleAministration.address.address1}" 
                                                 size="40"
                                                 readonly="true">
                                    </p:inputText>
                                    <p:spacer></p:spacer>
                                    
                                    <p:outputLabel for="address2" value="Street and number"/>
                                    <p:inputText id="address2"
                                                 value="#{peopleAministration.address.address2}"
                                                  readonly="true"
                                                 size="40">
                                    </p:inputText>
                                   <p:spacer></p:spacer>
                                      
                                    <p:outputLabel for="city" value="City" style="font-weight:bold" />
                                    <p:inputText id="city" 
                                                 value="#{peopleAministration.address.city}"  
                                                 readonly="true"
                                                 size="40">
                                    </p:inputText>
                                    <p:spacer></p:spacer>
                                      
                                    <p:outputLabel for="zip" value="Postal Code:" />
                                    <p:inputText id="zip" 
                                                 readonly="true"
                                                value="#{peopleAministration.address.postalcode}" 
                                                 size="40">
                                    </p:inputText>
                                    <p:spacer></p:spacer>
                                    
                                    <p:outputLabel for="country" value="Country:"/>
                                    <p:inputText id="country" 
                                                 value="#{peopleAministration.address.country}" 
                                                 readonly="true"
                                                 size="40">
                                    </p:inputText>
                                    <p:spacer></p:spacer>
                                      
                                    <p:outputLabel for="seri" value="Yubikey Serial"/>
                                    <p:inputText id="seri" value="#{peopleAministration.serial}"  
                                                 required="true"
                                                 requiredMessage="Enter the Yubikey Serial Number" 
                                                 size="40">
                                    </p:inputText>
                                
                                    <p:tooltip   for="seri" 
                                                 value="Yubikey Device Serial Number" 
                                                 trackMouse="true" />
                                    
                                    <p:outputLabel for="pid" value="Yubikey PublicId"/>
                                    <p:inputText id="pid" 
                                                 value="#{peopleAministration.pubid}" 
                                                 required="true"
                                                 requiredMessage="Enter the Yubikey  Public Id" 
                                                 size="40">
                                    </p:inputText>
                                    <p:tooltip   for="pid" 
                                                 value="Yubikey Public Identity ( 6 bytes Modhex)" 
                                                 trackMouse="true" />
                                    
                                    <p:outputLabel for="secret" value="Yubikey Secret"/>
                                    <p:inputText id="secret"
                                                 value="#{peopleAministration.secret}" 
                                                 required="true"
                                                 requiredMessage="Enter the Yubikey Secret Code" 
                                                 size="40">
                                    </p:inputText>
                                      <p:tooltip   for="secret" 
                                                 value="Yubikey Secret Key (16 bytes Hex)" 
                                                 trackMouse="true" />
                                    <p:spacer></p:spacer>
                                    <p:messages id="messages" autoUpdate="true" showDetail="false" closable="true"/>
                                
                                </h:panelGrid>

                                <div class="register_banner">
                                    <p:commandButton styleClass="team_button button-save" type="submit" value="Register" action="#{peopleAministration.activateYubikey()}"/>
                                    <p:commandButton styleClass="team_button button-save" type="submit" value="Cancel" action="userMgmt" immediate="true" />
                                </div>

                            </h:form>     
                        </div>
                    </div> 
                </p:layoutUnit>
            </p:layout>
        </h:body>
    </f:view>
</html>
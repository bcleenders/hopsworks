<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      >

   <ui:composition template="sauron/layout.xhtml">

      <ui:define name="title">
         Test
      </ui:define>

      <ui:define name="content">

         TEST

         <h:form id="form_add_host_cmd">
            <p:commandLink value="Add Host" onclick="dlgAddHost.show()">Add Host</p:commandLink>
            <p:commandButton value="Add" style="float: right" actionListener="#{addHostController.addHost}" process="@form" update="@form"/>
         </h:form>

         <p:dialog modal="true" widgetVar="dlgAddHost" header="New Host" draggable="false" resizable="false" styleClass="Dialog">  
         <h:form id="form_add_host">
            <p:growl id="growl" showDetail="true"/>   
                            
            <p:panelGrid id="newhost" columns="2"> 
               
               <h:outputLabel for="hostid" value="Host Id" />  
               <p:inputText id="hostid" value="#{addHostController.hostId}" required="true" requiredMessage="Host id is required." />  

               <h:outputLabel for="privateip" value="Private IP"/>  
               <p:inputText id="privateip" value="#{addHostController.privateIp}" required="#{empty param['form_add_host:publicip']}" requiredMessage="A public or private IP is required."/> 

               <h:outputLabel for="publicip" value="Public IP" />  
               <p:inputText id="publicip" value="#{addHostController.publicIp}" required="#{empty param['form_add_host:privateip']}" requiredMessage="A public or private IP is required."/>                  
            </p:panelGrid>

            <p:commandButton value="Add" style="float: right" actionListener="#{addHostController.addHost}" 
                             process="@all" update="form_add_host"
                             oncomplete="if (args  &amp;&amp; args.exists){}else{alert('ok')}"/>
         </h:form>      
         </p:dialog> 




      </ui:define>

   </ui:composition>

</html>